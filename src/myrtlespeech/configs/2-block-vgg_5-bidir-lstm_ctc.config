model {
  alphabet: "_abcdefghijklmnopqrstuvwxyz '."

  pre_process_step {
    train_only: false;
    mfcc {
      numcep: 83;
      winlen: 0.025;
      winstep: 0.020;
    }
  }

  encoder_decoder {
    encoder {
      vgg {
        vgg_config: B;
        batch_norm: true;
        use_output_from_block: TWO;
      }

      rnn {
        rnn_type: LSTM;
        hidden_size: 1024;
        num_layers: 5;
        bias: True;
        bidirectional: true;
      }
    }

    decoder {
      fully_connected {
        num_hidden_layers: 0;
      }
    }
  }

  ctc_loss {
    blank_index: 0;
    reduction: MEAN;
  }

  ctc_beam_decoder {
    blank_index: 0;
    beam_width: 20;
    prune_threshold: 0.001;
    separator_index {
      value: 27;
    }
    language_model {
      no_lm { }
    }
    word_weight: 2.0;
  }
}

train_config {
  batch_size: 64;
  num_epochs: 100;
  sgd {
    learning_rate: 0.01;
    momentum: 0.9;
  }
  dataset {
    fake_speech_to_text {
      audio_ms {
        lower: 1000;
        upper: 20000;
      }

      label_symbols: "abcdefghijklmnopqrstuvwxyz '."

      label_len {
        lower: 10;
        upper: 200;
      }
    }
  }
}

eval_config {
}
